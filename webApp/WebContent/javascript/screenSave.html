<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	section:first-of-type{z-index:-1; width: 820px; margin: 0 auto; border: 1px solid #ccc;}
	body, ul, li{ list-style: none; margin:0; padding:0;}
	ul{display: flex; padding: 10px;}
	h3{text-align: center;}
	img{width: 100px;}
	
	#bg{
		z-index:1;
		display: none;
		position: absolute;
		top:0;
		width: 100vw;
		height: 100vh;
		overflow: hidden;
	}
	
	#bg h3{
		width:100%;
		position: absolute;
		color: #fff;
	}
	#bg>img{
		position: absolute;
		top:0;
		left:0;
	}
	#saveImg {
		width: 100vw;
		height: 100vh;
		background: #ccc;
	}
	
	#saveImg img{
		width: 100%;
		height: 100vh;
	}
	
</style>
<script type="text/javascript">
	function imgList(){
		var list = "";
		for (var i = 1; i < 9; i++) {
			list += "<li><img id='list0" + i + "' onclick='screenSave(this.src)' src='../img/0" + i + ".png'></li>";
		}
		document.getElementById("list").innerHTML = list;
	}
	var view;
	var bg;
	var timer;
	function screenSave(src) {
		timer = setInterval('moveIcon()', 10);
		var srcName = src.replace(/^.*\//, '');
		//console.log(src);
		//console.log(srcName);
		view = document.getElementById("saveImg");
		bg = document.getElementById("bg");
		var insertImg = "<img onclick='screenBack()' src ='../img/" + srcName + "'>";
		view.innerHTML = insertImg;
		bg.style.display="block";
		document.body.style.overflow="hidden";
		window.onkeyup=function(){
			screenBack();
		}
	}
	
	function screenBack() {
		bg.style.display="none";
		document.body.style.overflow="inherit";
		clearInterval(timer);
	}
	
	var xx = 0;
	var yy = 0;
	
	var n = 3;
	var n2 = 3;
	var x = window.innerWidth-100;
	var y = window.innerHeight-100;
	function moveIcon() {
		var icon = document.getElementById("moveIcon");
		icon.style.left = xx+"px";
		icon.style.top = yy+"px";
 		if (xx > x) {
 			n = -3;
		}
		if (xx < 0) {
			n = +3;
		}
		xx += n;
 		
 		if (yy > y) {
 			n2 = -3;
		}
		if (yy < 0) {
			n2 = +3;
		}
		yy += n2;
	}
</script>

</head>
<body onload="imgList();">
	<section>
		<h3>이미지를 클릭하면 화면보호기가 실행됩니다.</h3>
		<ul id="list">
		</ul>
	</section>
	<section id="bg">
		<h3>아무키나 누르면 화면보호기가 종료됩니다.</h3>
		<img id="moveIcon" src="../img/moveImg.gif">
		<div id="saveImg"></div>
	</section>
</body>
</html>